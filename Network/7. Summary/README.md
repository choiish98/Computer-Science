# 네트워크

## 1. 데이터 링크 계층
### (1) MAC 계층
- **LAN 환경**에서는 네트워크의 자원을 효율적으로 활용하기 위해 데이터 링크 계층의 기능을 LLC 계층과 MAC 계층으로 나누어 처리한다. 
- 데이터 링크 계층의 기본 기능은 LLC 계층에서 다룬다.
- `물리적인 전송 선로의 특징과 매체 간의 연결 방식에 따른 제어` 부분은 **MAC 계층**에서 다룬다.
- 다중 접근 채널에서 데이터 전송의 **충돌**을 해결 하는 역할을 한다.
- **CSMA/CD**: `공유 버스` 방식의 데이터 전송을 이용하는 방식, `충돌을 허용`하는 방식, **허브/스위치** 방식을 이용한 LAN 케이블 구성
- **토큰 버스**: `물리적인 버스 구조이지만 논리적인 프레임 전달은 링 구조`, `토큰`을 통한 충돌 제어
- **토큰 링**: `순환 구조`의 링 인터페이스, `토큰`을 이용한 충돌 제어

### (2) LLC 계층
- 물리 계층을 통해 이루어지는 데이터 전송 과정에서의 **물리적인 전송 오류를 복구**하는 역할을 한다.
- 프레임 분실, 프레임 변형이라는 크게 두 가지의 오류를 **재전송**을 통해 해결
- **슬라이딩 윈도우 프로토콜**: `윈도우의 이동을 통한 흐름 제어 기능으로 물리적인 전송 오류를 해결`
  - **고백 N 방식**: 오류가 발생한 프레임 이후의 모든 정보 프레임을 재전송
  - **선택적 재전송 방식**: 오류가 발생한 프레임만 재전송
  - **피기배킹**: 응답 프레임과 정보 프레임을 동시에 전송하여 전송 횟수를 줄이는 방식
- **HDLC**: 호스트를 주국, 종국, 혼합국으로 구분하며 제어 프레임의 값에 따라 정보, 감독, 비번호 프레임으로 나뉘어 기능을 한다.
  - 세 가지 연결 모드: 정규 응답, 비동기 균형(LAPB), 비동기 응답(LAP)

## 2. 네트워크 계층
- 비연결형 서비스: 패킷이 서로 다른 경로를 통해 목적지 호스트로 전달하며, 신뢰성이 떨어지는 방식이다.
- 연결형 서비스: 상대적으로 신뢰성이 높은 서비스로, 패킷을 전송하기 전에 연결을 미리 설정하여 송신하는 방식
- **라우팅**: 송수신 호스트 사이의 `패킷 전달 경로를 선택하는 과정`
  - 정적 라우팅: 패킷 전송이 이루어지기 전에 경로 정보를 라우터에 미리 저장
  - 동적 라우팅: 경로 정보를 네트워크 상황에 따라 적절하게 변경하는 방식
  - 라우팅 정보의 처리
    - 소스 라우팅: 패킷을 전송하는 호스트가 목적지 호스트까지 전달 경로를 스스로 결정하는 방식
    - 분산 라우팅: 라우팅 정보가 분산되는 방식으로 패킷의 전송 경로에 위치한 각 라우터가 효율적인 경로 선택에 참여
    - 중앙 라우팅: RCC라는 특별한 호스트를 사용해 전송 경로에 관한 모든 정보를 관리하는 방식
    - 계층 라우팅: 분산 라우팅 기능과 중앙 라우팅 기능을 적절히 조합하는 방식
- **혼잡 제어**: `네트워크에 패킷 수가 과도하게 증가하는 현상을 예방하거나 제거`하는 기능. 흐름 제어와 달리 호스트와 라우터를 포함한 서브넷에서 네트워크의 전송 능력 문제를 다룬다.
  - 트래픽 성형: 패킷의 발생 빈도가 네트워크에서 예측할 수 있는 전송률로 이루어지게 하는 기능 (ex) 리키 버킷
- **라우팅 프로토콜**
  - 최단 경로 라우팅: 전송 패킷이 목적지까지 도착하는 여러 경로 중 가장 짧은 경로를 선택
  - 플러딩: 라우터가 자신에게 입력된 패킷을 출력 가능한 모든 경로로 중개하는 방식
  - 링크 벡터: 라우터와 직접 연결된 이웃 네트워크에 대한 연결 정보를 보관
  - 거리 벡터: 개별 네트워크들까지의 거리 정보를 관리 (ex) RIP 프로토콜
  - 다음 홈 벡터: 패킷을 전송하는 경로에 있는 다음 홉 정보를 관리
- IP 프로토콜
  - 특징
    - 비연결형 서비스를 제공한다.
    - 패킷을 분할/병합하는 기능을 수행하기도 한다.
    - 데이터 체크섬은 제공하지 않고, 헤더 체크섬만 제공한다.
    - Best Effort 원칙에 따른 전송 기능을 제공한다.
  - 헤더 구조
    - 혼잡 제어를 위한 필드: ECN
    - 패킷 분할을 위한 필드: Identification, DF, MF, Fragment Offset
    - 주소 관련 필드: Source Address, Destination Address
  - 패킷 분할: 상위 계층에서 내려온 데이터를 계층 2의 프레임 틀에 담을 수 있도록 분할 후에 전송
  - **DHCP 프로토콜**: `할당 가능한 IP 주소`는 DHCP 서버가 관리하는 풀에 저장되어 관리되며, 클라이언트로부터 `IP 주소 요청이 오면 풀에서 하나의 IP 주소를 할당`, 사용이 끝나면 다시 IP 주소 풀로 반환
- IPv6 프로토콜: IPv4의 주소 공간 부족 문제를 해결하기 위한 차세대 프로토콜이다.
  - 특징: 주소 공간 확장, 헤더 구조 단순화, 흐름 제어 기능 지원
  - 주소: IPv6에서는 16비트의 숫자 8개를 콜론으로 구분하여 표시 (ex) ```D1D1:1111:3F3F:1700:4545:1212:1111:1231```
- 이동 IP 프로토콜: 이동하는 사용자가 서비스 중단 없이 인터넷에 접속할 수 있는 이동 환경 서비스를 수용하는 문제
  - **터널링**: 개별통신망 환경에서 사용하는 통신 규약을 캡슐화/역캡슐화 하여 가상의 터널을 형성하고 안전하게 데이터를 송수신 하는 기술
  - IP 터널링: 새로운 IP 주소를 할당하는 것과 호스트 고유의 주소를 유지하는 작업을 수행
- 기타 네트워크 계층 프로토콜
  - **ARP**: 수신 호스트의 IP 주소를 매개변수로 하여 수신 호스트의 MAC 주소 값을 얻음
  - **RARP**: MAC 주소를 이용해 IP 주소를 제공
  - **ICMP**: IP 패킷을 전송하는 과정에서 발생하는 문제를 보고, 라우터 혹은 다른 호스트들의 정보를 획득

## 3. 전송 계층

## 4. 세션 계층

## 5. 표현 계층

## 6. 응용 계층